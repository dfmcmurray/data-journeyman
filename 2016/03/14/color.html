<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Color</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css><link rel=stylesheet href=/css/main.8ea3.css></head><body><div class=site><div id=header><a href="/"><div class=title></div><!-- <img class="title" src="/img/title-anglecia.0948.png" /> --><!-- <div class='title'>
			Data Journeyman
		</div>	 --><!-- <div class='tagline'>
			One man's journey from noise to knowledge<img src="/img/datum.e49d.png" />
		</div> --></a></div><div class=post-container><div class=post-heading><h2>Color</h2><p class=meta>14 Mar 2016</p><div class=tags><span class="tag Visualization">Visualization</span> <span class="tag Tools and Resources">Tools and Resources</span></div></div><div class=post><p>As a programmer, I was much more familiar with the <a href=https://en.wikipedia.org/wiki/RGB_color_model>RGB Color Model</a> before writing this post. However, many color principles are more easily expressed through the <a href=https://en.wikipedia.org/wiki/HSL_and_HSV>HSV Color Model</a>, so if you’re not familiar with the latter, take a minute to learn it. (It’s not difficult.)</p><h3 id=zooming-in-on-color>Zooming in on Color</h3><p>As we saw in <a href=http://www.datajourneyman.com/2016/03/07/visual-encodings.html>my last post</a>, color was one of the least accurate visual encodings that Cleveland and McGill measured. That means that viewers have the most difficulty gauging the exact values represented by changes in color saturation and hue. However, I’m sure you’ve seen a visualization that used color to great effect. <a href="http://www.nytimes.com/interactive/2014/07/08/upshot/how-the-year-you-were-born-influences-your-politics.html?abt=0002&amp;abg=1">Here’s an example</a> that I really like from the New York Times.</p><p><img alt="New York Times Political Views Visualization" src=/img/nyt-political-views-visualization.0953.png class=full-size></p><p>The use of color in this visualization is very effective at highlighting one year’s population’s political leanings over time by only giving one year’s line any color saturation (all others are a light gray). Additionally, the polical leanings of that highlighted line are double encoded by color hue and y position, which is very effective since in U.S. politics, it’s a strong convention to represent republicans with red and democrats with blue.</p><p>So, color is the least accurate encoding, yet we can find plenty of examples that use color to great effect. So which is it? Is color important or not? The answer, of course, is that it’s very important, but that it’s also very easy to misuse since it has certain limitations as a visual encoding.</p><h3 id=rules-for-encoding-data-with-color>Rules for Encoding Data with Color</h3><p>Since it’s easy to misuse color as a visual encoding, it’d be helpful to have some guidelines to go by when making visualizations. Stephen Few does just that in his article <a href=http://www.perceptualedge.com/articles/visual_business_intelligence/rules_for_using_color.pdf>Practical Rules for Using Color in Charts</a>.</p><ul><li><em>Rule 1:</em> If you want different objects of the same color in a table or graph to look the same, make sure that the background—the color that surrounds them—is consistent.</li><li><em>Rule 2:</em> If you want objects in a table or graph to be easily seen, use a background color that contrasts sufficiently with the object.</li><li><em>Rule 3:</em> Use color only when needed to serve a particular communication goal.</li><li><em>Rule 4:</em> Use different colors only when they correspond to differences of meaning in the data.</li><li><em>Rule 5:</em> Use soft, natural colors to display most information and bright and/or dark colors to highlight information that requires greater attention.</li><li><em>Rule 6:</em> When using color to encode a sequential range of quantitative values, stick with a single hue (or a small set of closely related hues) and vary intensity from pale colors for low values to increasingly darker and brighter colors for high values.</li><li><em>Rule 7:</em> Non-data components of tables and graphs should be displayed just visibly enough to perform their role, but no more so, for excessive salience could cause them to distract attention from the data.</li><li><em>Rule 8:</em> To guarantee that most people who are colorblind can distinguish groups of data that are color coded, avoid using a combination of red and green in the same display.</li><li><em>Rule 9:</em> Avoid using visual effects in graphs.</li></ul><h1 class=pull-quote>not all information is created equal</h1><p>Stephen Few also includes some other experts’ opinions in his paper, including Maureen Stone, who pointed out that “regarding color, people tend to think that more and brighter is better….[but] experts realize that color should be used meaningfully, not arbitrarily or gratuitously.” This sentiment is very much in line with Few’s rules number 3 and 4. Stephen Few goes on to say that “not all information is created equal. Sometimes information must be included that plays only a minor role in the message you’re trying to communicate.” So it’s important to use color carefully as a highlighting tool, and its overuse undermines its effectiveness.</p><p>When working with categorical data, color hues are useful encodings, but you should make sure the perceived brightness of all of your colors is the same. Otherwise, certain categories will pop out at the viewer. Keeping color palettes that you can always go back to is a great idea. Here are three palettes suggested by Few (including a high intensity, medium intensity, and low intensity palette).</p><p><img src=/img/color-palette.9ec1.png alt="Three Color Palette's from Stephen Few"></p><p>Higher intensity colors can be used for highlighting data, and the pale palette can be used to de-emphasize data when necessary. Additionally, when using color on a small graphical component (like points or even lines), using more saturated colors makes them more easily distinguishable.</p><p>Maureen Stone goes more in depth to color theory <a href=https://www.perceptualedge.com/articles/b-eye/choosing_colors.pdf>here</a>, boiling these rules down to 3 guidelines:</p><ul><li>Assign color according to function</li><li>Use contrast to highlight, analogy to group</li><li>Control value contrast for legibility</li></ul><h3 id=applying-the-color-rules>Applying The Color Rules</h3><p>In searching the internet for data visualization, I’ve come across my fair share of bad visualizations. The following is an example that needs a little touching up regarding its treatment of color. Before we get into that though, I want to emphasize that this visualization is far from the worst I’ve seen. It’s just that it breaks some of the above rules and can be improved with very minor color changes.</p><p><img alt="A table which uses color in an inefficient way" src=/img/bad-color.da0b.jpg class=full-size></p><p>Applying some of Few’s rules to this table, we can make it a much more effective visualization. Applying Rule 1 and Rule 9, we can determine that we should remove the textured background. Actually, this background image is a heavily blurred picture of power balls. It doesn’t help the viewer contextualize the information any more than the title already does, and this unnecessary “ink” on the graphic is known as <a href=https://en.wikipedia.org/wiki/Chartjunk>chartjunk</a> and should be removed. Next, falling in line with Rule 2, Rule 3, and Rule 4, we don’t need to change the color hue of each alternating line in the table, and instead use color brightness (value) to distinguish alternating rows, which is a subtler way to go about it. Finally, following Rule 5 and Rule 7, the intensity of the header row’s color can be lowered while still maintaining its distinction. All of these changes result in the following table, which is much more pleasant to read even though the changes we made were very minor.</p><p><img alt="A reimagination of the previous table with its color usage corrected" src=/img/good-color.e1e7.png class=full-size></p><h3 id=color-antipattern-rainbow-color-scale>Color Antipattern: Rainbow Color Scale</h3><p>The color usage rules above include warning against two antipatters: using a red/green color schemes and using visual effects. There’s another one that’s important to bring up due to its prevalence, known as the rainbow color scale. This scale refers to using a range of hues to represent quantitative data, which is in direct conflict with Rule 6 above. It can be tempting to use a rainbow color scale to add flair to a visualization, but it’s actually harmful to the visualization to do so.</p><p><a href=https://eagereyes.org/basics/rainbow-color-map>This blog post</a> from <a href=https://eagereyes.org>eagereyes.org</a> goes into the dangers of a rainbow color scale with a heatmap example from <a href=http://onlinelibrary.wiley.com/doi/10.1111/jawr.12010/full>a paper</a> published in the Journal of the American Water Resources Association.</p><p><img alt="Rainbow Color Scale Heatmap of U.S. Evapotranspiration" src=/img/rainbow-color-map.f8c9.jpg class=full-size></p><p>In the blog post, the author points out that there appears to be a very large change in values right down the middle of the map (from orange-yellow to blue-green). However, if you look at the legend values, you will realize that these values are not that different, changing from the range 0.8-0.89 to 0.7-0.79. The reason for this apparent discrepancy, though, is the fact that the luminance changes drastically for those two adjacent value ranges, which can be observed by removing all color saturation from the legend.</p><p><img src=/img/rainbow-color-map-luminance-legend.9752.jpg alt="Luminance Values of Rainbow Color Scale Heatmap Legend"></p><p>You might think that this can be remedied by choosing colors of similar intensity, but even that’s not enough. In the color palettes we saw above from Stephen Few, each palette seemed to have the same brightness, but removing the saturation from those palettes, we can see that the luminance of these color swatches also varies within each palette. This is because human perception is not perfectly consistent across color hues, so luminance must be adjusted to make the viewer perceive the different hues as similar.</p><p><img src=/img/color-palette-b-and-w.0cb2.png alt="Luminance Values of Stephen Few's Color Palettes"></p><p>The real problem is the usage of such a wide range of hues. In the words of Maureen Stone, “hue contrast is easy to overuse to the point of visual clutter.” This effect was measured by David Borland and Russel M. Taylor II in their paper, <a href=/pdf/Rainbow_Color_Map_Still_Considered_Harmful.pdf download=Rainbow_Color_Map_Still_Considered_Harmful.pdf>Rainbow Color Map (Still) Considered Harmful</a>. They found the same problems with the rainbow color scale, saying “the rainbow color map confuses viewers through its lack of perceptual ordering, obscures data through its uncontrolled luminance variation, and actively misleads interpretation through the introduction of non-data-dependent gradients.”</p><h1 class="pull-quote right">hue contrast is easy to overuse to the point of visual clutter</h1><p>Borland and Taylor compare the rainbow color scale to three other gradient scales: grayscale, black-body radiation (which mimics the color of a cannonball being heated), and an isoluminant gradient (meaning luminance is constant). While the latter three color scales have different strenghts and weaknesses <a href=http://www.paraview.org/ParaView/index.php/Default_Color_Map#Grayscale_and_Black-Body_Radiation_Color_Maps>that can get very complicated</a> depending on other aspects of your data and the nature of your visualization, the rainbow color scale is less useful across the board for encoding quantitative data on a gradient scale and should always be avoided.</p><p><img src=/img/rainbow-color-scale-comparison.e16d.png alt="Rainbow Color Scale Comparison with Other Gradient Color Scales"></p><h3 id=color-brewer>Color Brewer</h3><p>With so many color considerations, it can be an overwhelming to even know where to start. Luckily, there is a great online tool by Cynthia Brewer that many data visualizers use called <a href=http://colorbrewer2.org>ColorBrewer</a>. All of the color palettes generated by this tool are very aesthetically appealing, and you can select from several options to get the best palette for your needs.</p><p>There are qualitative palettes for categorical data, sequential palettes for quantified data, and diverging palettes for quantified data that extends in two directions from some sensible origin point. Other options include palettes that are colorblind save and printer friendly. The example visualizations are all maps, but these palettes are useful for any type of visualization. If it’s absolutely necessary, you can achieve a continuous gradient for quantified data by interpolating the colors between the colors of any given palette, but always remember that viewer accuracy for differences on a color gradient is lowest of all of the visual encodings.</p></div><div class=comments><div id=disqus_thread></div><script type=text/javascript>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	        var disqus_shortname = 'datajourneyman'; // required: replace example with your forum shortname

	        /* * * DON'T EDIT BELOW THIS LINE * * */
	        (function() {
	            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	        })();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js></script><script src=//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js></script><script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({
		"HTML-CSS": { linebreaks: { automatic: true } },
		SVG: { linebreaks: { automatic: true } },
		TeX: { 
            Macros: { 
              goodbreak: '\\mmlToken{mo}[linebreak="goodbreak"]{}', 
              badbreak: ['\\mmlToken{mo}[linebreak="badbreak"]{#1}',1], 
              nobreak: ['\\mmlToken{mo}[linebreak="nobreak"]{#1}',1], 
              invisibletimes: ['\\mmlToken{mo}{\u2062}'] 
            } 
        } 
    });</script><script src=/js/scripts.a516.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-10466691-5', 'auto');
  ga('send', 'pageview');</script></body></html>