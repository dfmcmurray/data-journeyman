<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>The German Tank Problem</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css><link rel=stylesheet href=/css/main.7af8.css></head><body><div class=site><div id=header><a href="/"><div class=title></div><!-- <img class="title" src="/img/title-anglecia.0948.png" /> --><!-- <div class='title'>
			Data Journeyman
		</div>	 --><!-- <div class='tagline'>
			One man's journey from noise to knowledge<img src="/img/datum.e49d.png" />
		</div> --></a></div><div class=post-container><div class=post-heading><h2>The German Tank Problem</h2><p class=meta>02 Mar 2015</p><div class=tags><span class="tag Curriculum">Curriculum</span> <span class="tag Think Stats">Think Stats</span> <span class="tag Statistics">Statistics</span> <span class="tag Book">Book</span></div></div><div class=post><h3 id=the-problem>The Problem</h3><p>You’re probably familiar with Alan Turing’s work on <a href=http://en.wikipedia.org/wiki/Cryptanalysis_of_the_Enigma>cracking the Enigma code</a> in World War II, especially with the recent Oscar-nominated <a href="http://www.imdb.com/title/tt2084970/">film</a> on the subject. There is a lessor known nerd victory for the Allies in that war too, though. It’s been coined the <a href=http://en.wikipedia.org/wiki/German_tank_problem>German tank problem</a>.</p><p><strong>Definition:</strong> Estimate the maximum of a <a href=http://en.wikipedia.org/wiki/Uniform_distribution_(discrete)>discrete uniform distribution</a> from a given sample (without replacement).</p><p>In tank terms, suppose Germany is producing tanks for war that have sequential serial numbers (for simplicity, starting with 1). You see a certain number of tanks and their serial numbers. With this information alone, estimate how many tanks Germany has produced to date in total.</p><h3 id=historical-interlude>Historical Interlude</h3><p>During WWII, the Allies were naturally very interested in the number of tanks the Germans possessed, and they went about predicting that number in two main ways. The first was conventional intelligence gathering and from that, educated guessing. The other way was to use statistical estimation. Of course, the two methods were used in combination, as well.</p><p>Now that we have the actual historical numbers of German wartime tank production, we can judge how well each of these methods did separately. The intelligence estimates represent “the combined views of American and British intelligence at the time.” (from <a href=https://engineering.purdue.edu/~ipollak/ece302/FALL09/notes/An_Empirical_Approach_to_Economic_Intelligence_in_World_War_II_Ruggles_Brodie_1947.pdf>Ruggles and Brodie, 1947</a>)</p><table><thead><tr><th>Month</th><th>Statistical Estimate</th><th>Intelligence Estimate</th><th>German Records</th></tr></thead><tbody><tr><td>June 1940</td><td>169</td><td>1,000</td><td>122</td></tr><tr><td>June 1941</td><td>244</td><td>1,550</td><td>271</td></tr><tr><td>August 1942</td><td>327</td><td>1,550</td><td>342</td></tr></tbody></table><p>Clearly, the statistical estimate comes much closer to the correct value. Given these tangible benefits of statistical estimation, let’s work out how it’s done.</p><h3 id=simplification-the-locomotive-problem>Simplification: The Locomotive Problem</h3><p>In <em>Think Stats</em>, a simplified version of the problem is examined, called the locomotive problem. The locomotive problem is equivalent to the German tank problem where you only see one tank. We will continue talking in terms of tanks in this post, whereas in <em>Think Stats</em> they use train cars instead.</p><p>So, say you come accross a tank with a serial number of 60. How many total tanks do you think there are? You may be thinking it’s crazy to even make a guess with such little data, but if it’s all you have, a weak guess is better than no guess at all. And there are many different ways to estimate the total number of tanks. An interesting thing about using a sample of one to form the estimates is that this case maximizes the divergence of the different estimators.</p><h4 id=the-maximum-likelihood-estimator>The Maximum Likelihood Estimator</h4><p>If we approach the problem looking for the maximum likelihood estimator, then the estimator \((\hat N)\) for the total number of tanks \((N)\) will be equal to the serial number we saw – in this case 60. For any given value of \(N\), the likelihood that we see a particular serial number is \(\frac{1}{N}\). So to maximize the likelihood of seeing 60, \(\hat N\) would have to be 60 because for any \(\hat N\) greater than 60, \(\frac{1}{N}\) would be less, and for \(\hat N\) less than 60, the probability is 0 since we just saw a tank with a serial number of 60.</p><p>If this answer seems dissatisfying, then you’re probably sensitive to the intuition that this approach doesn’t do well to minimize the error in our estimate. And you’re right. So let’s move on to an estimate that does take this error into account.</p><h4 id=minimizing-mean-squared-error>Minimizing Mean Squared Error</h4><p>Instead of taking \(\hat N = 60\), let’s try finding a multiplier, \(a\), to get a better estimate, where \(\hat N = a \times 60\). If we repeated the problem \(N\) times, seeing each possible serial number, \(i\), then our mean squared error would be defined as follows:</p><p>\[MSE = \frac{1}{N} \sum_{i=1}^{N} (ai - N)^2\]</p><p>Since this MSE function is <a href=http://en.wikipedia.org/wiki/Convex_function>convex</a>, we can find the minimum by setting the derivative equal to 0.</p><p>\[\frac{dMSE}{da} = \frac{1}{N} \sum_{i=1}^{N} 2i(ai - N) = 0\]</p><p>(If you’re unsure of where the 2i comes from, maybe you need a refresher in the <a href=https://www.math.ucdavis.edu/~kouba/CalcOneDIRECTORY/chainruledirectory/ChainRule.html>chain rule</a> like I did.)</p><p>Then, solve for \(a\). To do so, we’ll need to recall some <a href=https://www.math.ucdavis.edu/~kouba/CalcTwoDIRECTORY/summationdirectory/Summation.html>algebra of summation notion</a>.</p><p>\[\sum_{i=1}^{N} (2ai^2 - 2Ni) = 0\]</p><p>\[2a \frac{N(N+1)(2N+1)}{6} - 2N \frac{N(N+1)}{2} =0\]</p><p>\[\frac{a(2N+1)}{3} - N = 0\]</p><p>\[a = \frac{3N}{2N + 1}\]</p><p>This value of \(a\) isn’t useful since it’s in terms of \(N\), and if we knew \(N\) we wouldn’t have to estimate anything in the first place. However, since for large values of \(N\) the right hand side tends toward \(\frac{3}{2}\), so \(\hat N = \frac{3}{2} \times 60 = 90\).</p><h4 id=an-unbiased-estimator>An Unbiased Estimator</h4><p>We’re not guaranteed that the above estimators are unbiased. In fact, by computing the mean error, we could see that they’re not.</p><p>\[ME = \frac{1}{N} \sum_{i=1}^{N} (ai - N)\]</p><p>To find an unbiased estimator, we need to fine a value of \(a\) where \(ME = 0\).</p><p>\[\frac{1}{N} \sum_{i=1}^{N} (ai - N) = 0\]</p><p>\[\frac{a(N+1)}{2} - N = 0\]</p><p>\[a = \frac{2N}{N+1}\]</p><p>This value for \(a\) tends toward 2 for large values of \(N\), so \(\hat N_{unbiased} \approx 2 \times 60 = 120\).</p><h3 id=back-to-the-general-problem>Back to the General Problem</h3><p>All of the estimators we’ve considered so far take only one tank sighting into account, but remember, the original problem is for \(k\) tank sightings.</p><h4 id=the-minimum-variance-unbiased-estimator>The Minimum-Variance Unbiased Estimator</h4><p>Since we’ve seen the <a href=http://en.wikipedia.org/wiki/Bias%E2%80%93variance_tradeoff>variance-bias tradeoff</a> before, we can talk about the <a href=http://en.wikipedia.org/wiki/Minimum-variance_unbiased_estimator>minimum-variance unbiased estimator</a> or MVUE. The MVUE might not be the estimator with the lowest variance, but it does have the lowest variance of any unbiased estimators.</p><p>For the general German tank problem with k tanks observed, the MVUE is the maximum serial number observed (m) plus the average gap between observed serial numbers. Here we’ll accept the estimator on intuition. See the derivation <a href=http://en.wikipedia.org/wiki/German_tank_problem#Derivation>here</a>.</p><p>\[\hat N_{MVUE} = m + \frac{m - k}{k} = m + mk^{-1} - 1 = m(1 + k^{-1}) - 1\]</p><p>If \(k = 1\), then we’re back to our unbiased estimator from the locomotive problem. If \(k = m\), then \(\hat N_{MVUE} = m\). That is, if you’ve seen 100 tanks and they are all numbered 1 through 100, then you’re best bet is to guess that you’ve seen them all.</p><h3 id=the-other-side-of-the-problem>The Other Side of the Problem</h3><p>We’ve seen how valuable estimation can be on the guessing side of the tank problem, but what about if you’re producing tanks and you know your opponent has a top-notch team of statisticians on hand who are capable of estimating your tank production?</p><p>One option is to exclude serial numbers altogether, but this might not be possible or ideal.</p><p>Another option would be to have a lookup table that assigns the serial number to a random sequence of characters. Such a lookup table would have to be very large. In fact, it would have to be set up such that the number of digits possible is twice the number of digits in the number of tanks produced to avoid an otherwise high chance of collisions (due to the effect of <a href=http://www.datajourneyman.com/2014/09/06/birthday-paradox.html>the birthday problem</a>).</p><p>Whichever side of the war you’re on, being statistically inferior to your opponent will definitely put you at a severe disadvantage.</p></div><div class=comments><div id=disqus_thread></div><script type=text/javascript>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	        var disqus_shortname = 'datajourneyman'; // required: replace example with your forum shortname

	        /* * * DON'T EDIT BELOW THIS LINE * * */
	        (function() {
	            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	        })();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js></script><script src=//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js></script><script src=//cdn.blockspring.com/blockspring.js></script><script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({
		"HTML-CSS": { linebreaks: { automatic: true } },
		SVG: { linebreaks: { automatic: true } },
		TeX: { 
            Macros: { 
              goodbreak: '\\mmlToken{mo}[linebreak="goodbreak"]{}', 
              badbreak: ['\\mmlToken{mo}[linebreak="badbreak"]{#1}',1], 
              nobreak: ['\\mmlToken{mo}[linebreak="nobreak"]{#1}',1], 
              invisibletimes: ['\\mmlToken{mo}{\u2062}'] 
            } 
        } 
    });</script><script src=/js/scripts.08ae.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-10466691-5', 'auto');
  ga('send', 'pageview');</script></body></html>